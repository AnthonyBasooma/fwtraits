<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Extracting the traits from the downloaded data. — fw_fetchdata • fwtraits</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Extracting the traits from the downloaded data. — fw_fetchdata"><meta name="description" content="Extracting the traits from the downloaded data."><meta property="og:description" content="Extracting the traits from the downloaded data."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fwtraits</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/data_for_taxa_groups.html">Retrieve data for taxomomic groups.</a></li>
    <li><a class="dropdown-item" href="../articles/Secure_API_key.html">How to handle the API key in public and private codes.</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/AnthonyBasooma/fwtraits/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Extracting the traits from the downloaded data.</h1>
      <small class="dont-index">Source: <a href="https://github.com/AnthonyBasooma/fwtraits/blob/master/R/fw_fetchdata.R" class="external-link"><code>R/fw_fetchdata.R</code></a></small>
      <div class="d-none name"><code>fw_fetchdata.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Extracting the traits from the downloaded data.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">fw_fetchdata</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">organismgroup</span>,</span>
<span>  ecoparams <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  taxalevel <span class="op">=</span> <span class="st">"species"</span>,</span>
<span>  taxonomic_column <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  organismgroup_column <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  apikey <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">1134</span>,</span>
<span>  secure <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  percenterror <span class="op">=</span> <span class="fl">80</span>,</span>
<span>  errorness <span class="op">=</span> <span class="fl">20</span>,</span>
<span>  warn <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  inform <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  cachefolder <span class="op">=</span> <span class="st">"cache"</span>,</span>
<span>  details <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p><code>vector</code>. The list or vector with species names for which ecological references needs to be extracted from the
database.</p></dd>


<dt id="arg-organismgroup">organismgroup<a class="anchor" aria-label="anchor" href="#arg-organismgroup"></a></dt>
<dd><p><code>string</code>. The organism group to download from the platform.
The allowed group include <code>"fi", "mi", "pp", "pb", "di","mp"</code> for fishes,
macroinvertebrates, phytoplankton,
phytobenthos, diatoms, and macrophytes, respectively. Multiple groups allowed such as <code>'pp', 'di'</code>.</p><ul><li><p><code>pp</code>: Pytoplankton.</p></li>
<li><p><code>mp</code>: Macrophytes</p></li>
<li><p><code>mi</code>: Macroinvertebrates</p></li>
<li><p><code>fi</code>: Fishes</p></li>
<li><p><code>di</code>: Diatoms</p></li>
<li><p><code>pb</code>: Phytobenthos without diatoms</p></li>
</ul></dd>


<dt id="arg-ecoparams">ecoparams<a class="anchor" aria-label="anchor" href="#arg-ecoparams"></a></dt>
<dd><p><code>vector</code>. Selected traits that should be downloaded for particular organism group. Check <code><a href="fw_dbguide.html">fw_dbguide</a></code> for the allowed
traits in the database.</p></dd>


<dt id="arg-taxalevel">taxalevel<a class="anchor" aria-label="anchor" href="#arg-taxalevel"></a></dt>
<dd><p><code>string</code> Allowed taxonomic levels at which data can retrieved. Default is <code>'species'</code> but data can also be downloaded at <code>family</code>,
<code>genus</code>, and <code>taxagroup</code> level.</p></dd>


<dt id="arg-taxonomic-column">taxonomic_column<a class="anchor" aria-label="anchor" href="#arg-taxonomic-column"></a></dt>
<dd><p><code>string</code>. If the data is a dataframe, the species column is required and provided in this parameter.
The column should have complete species name and not genus and species provided separately.</p></dd>


<dt id="arg-organismgroup-column">organismgroup_column<a class="anchor" aria-label="anchor" href="#arg-organismgroup-column"></a></dt>
<dd><p><code>string</code> If the data is a dataframe, and more than one taxonomic group exists in the data, the
the <code>organismgroup_column</code> is required to iterate over the taxonomic groups separately.</p></dd>


<dt id="arg-apikey">apikey<a class="anchor" aria-label="anchor" href="#arg-apikey"></a></dt>
<dd><p><code>string</code>. The API key which is automatically loaded using the loadapikey() internal function.</p></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p><code>integer</code>. An integer to help track the caching of the access token generated during data collation.
If a user wants to get a new token, then the seed should be changed.</p></dd>


<dt id="arg-secure">secure<a class="anchor" aria-label="anchor" href="#arg-secure"></a></dt>
<dd><p><code>logical</code>. If <code>TRUE</code>, the user will be prompted to set the API key in the
.Renviron file by running the <code><a href="fw_setapikey.html">fw_setapikey</a></code> function. The User must strictly
type in API_KEY = 'api key', save, close the file and restart the R session or RStudio
for the API_KEY environment to be captured.
If <code>FALSE</code>, then the key will be entered directly in the API_KEY directly in the
fw_token() function. This method is insecure, since the key can be obtained from the codes
by other users.</p></dd>


<dt id="arg-percenterror">percenterror<a class="anchor" aria-label="anchor" href="#arg-percenterror"></a></dt>
<dd><p><code>numeric</code>. The number used as a cutoff to infer similarity of the user provided name and what is found in the database.
The higher the percentage, the higher the similarity the species name provided by the user and the one in the database. <code>percenterror</code>
ranges from 0 to 100 but the default is 80 to ensure that wrong names are not selected at low similarity percentage cutoff.</p></dd>


<dt id="arg-errorness">errorness<a class="anchor" aria-label="anchor" href="#arg-errorness"></a></dt>
<dd><p><code>numeric</code> Similar to <code>percenterror</code>, <code>errorness</code> parameter uses the distance differences between the user-provided
names and all the taxa group species standard names. The lower the percentage error, the higher the similarity in the species
names provided. Default is 20 and beyond 30, a warning is showed to avoid wrong species replace the user provided name, which leads
to extracting wrong traits.</p></dd>


<dt id="arg-warn">warn<a class="anchor" aria-label="anchor" href="#arg-warn"></a></dt>
<dd><p><code>logical</code> To show species name warning checks and traits cleaning. Default <code>FALSE</code>.</p></dd>


<dt id="arg-inform">inform<a class="anchor" aria-label="anchor" href="#arg-inform"></a></dt>
<dd><p><code>logical</code>. To indicate if the token is successfully generated. Default <code>TRUE</code>.</p></dd>


<dt id="arg-cachefolder">cachefolder<a class="anchor" aria-label="anchor" href="#arg-cachefolder"></a></dt>
<dd><p><code>string</code>. The root path were the cached data will be saved on the user PC.
If the path is not provided, the cached information will be saved in the current
working directly.</p></dd>


<dt id="arg-details">details<a class="anchor" aria-label="anchor" href="#arg-details"></a></dt>
<dd><p><code>logical</code>. For print the output summary including the parameters used, successful and unsuccessful data retrieval.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>dataframe</code> A dataframe species traits for all orders.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">dfextract</span> <span class="op">&lt;-</span> <span class="fu">fw_fetchdata</span><span class="op">(</span>data <span class="op">=</span> <span class="st">"Abramis brama"</span>, organismgroup <span class="op">=</span> <span class="st">'fi'</span>, inform <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                            ecoparams <span class="op">=</span> <span class="st">'migration'</span>, cachefolder <span class="op">=</span> <span class="st">'cache'</span> <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Anthony Basooma, Florian Borgwardt, Thomas Hein, Astrid Schmidt-Kloiber.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

