#explanation of category names
explanation <- unique(dbdata$category_explanation[which(dbdata$parameters_cleaned== paramvalue &
dbdata$category_name == cvalue)])
if(length(explanation)<=0 | is.na(cvalue)) explanation <- NA
print(explanation)
print(length(explanation))
print(cvalue)
dataout <- data.frame(ID_FWE         = as.character(unlist(splitdata[[xx]][,"ID_FWE"])),
OrganismGroup        = org,
TaxaGroup            = unlist(splitdata[[xx]][,"TaxaGroup"]),
Family               = unlist(splitdata[[xx]][,"Family"]),
Genus                = unlist(splitdata[[xx]][,"Genus"]),
Species              = unlist(splitdata[[xx]][,"Species"]),
Taxonname            = unlist(splitdata[[xx]][,"Taxonname"]),
Author               = unlist(splitdata[[xx]][,"Author"]),
Parameter            = paramvalue,
Category             = cvalue,
CategoryLevels       = clevel,
DataType             = DataType,
ClassificationType   = classificationType,
CategoryExplanation  = explanation
)
}, SIMPLIFY = FALSE, USE.NAMES = FALSE)
vvx <- do.call(rbind, pcatlp)
})
vvw <- do.call(rbind, lll2)
})
vv21 <- do.call(rbind, lll)
}
vv1 <- fidata[[1]][[1]]#[[11]][[2]][[1]][[3]][[1]]#[[2]][[6]]
dfparse <- fw_parseva(data = vv1, 'mi')
dfparse <- fw_parseva(data = vv1, 'pb')
vv1 <- fidatapb[[1]][[1]]#%>% dplyr::slice(3:6)#[[9]][[7]][[1]][[3]][[1]][[2]] #%>% dplyr::slice(6)#
dfparse <- fw_parseva(data = vv1, 'pb')
devtools::load_all(".")
yy <- fw_fetchdata(data = list(mi=c('Aeshna affinis', 'Aeshna crenata',
'Aeshna mixta', 'Aeshna subarctica', 'Aeshna viridis'),
fi=c("Abramsi brama"),
pp= c("Anathece clathrata",
"Anathece minutissima",
"Anthophysa vegetans",
"Apocalathium aciculiferum",
"Adlafia minuscula var. muralis"),
pb =c("Gongrosira debaryana",
"Gongrosira fluminensis",
"Hydrodictyon reticulatum",
"Sphaerobotrys fluviatilis",
"Stigeoclonium farctum",
"Stigeoclonium tenue",
"Tetraspora gelatinosa",
"Thorea hispida"),
mp = c("Amblystegium fluviatile",
"Amblystegium humile",
"Amblystegium riparium",
"Amblystegium serpens",
"Amblystegium tenax",
"Amblystegium varium")),
organismgroup = c('mi','fi', 'pp', 'mp', 'pb'),
ecoparams = list(mi=c('life duration Odonata', 'stream zonation preferecne'),
fi= c('cathment region', 'migration', 'threat austria',
'climate change affected'),
pp = c('stenoecy factor', 'aquaticity','life form'),
pb = c('substrate preference'),
mp = c('zone - systema')),
taxalevel = 'species')
devtools::load_all(".")
mipbdata <- fw_fetchdata(data = list(mi=c("Congeria kusceri",
"Congeria leucophaeata",
"Dreissena polymorpha",
"Dreissena rostriformis bugensis"),
pb= c("Gongrosira debaryana",
"Gongrosira fluminensis",
"Hydrodictyon reticulatum",
"Sphaerobotrys fluviatilis",
"Stigeoclonium farctum",
"Stigeoclonium tenue",
"Tetraspora gelatinosa",
"Thorea hispida")),
organismgroup = c('mi','pb'),
ecoparams = list(mi = c('stream zonation preference'),
pb = c('substrate preference')))
devtools::load_all(".")
mipbdata <- fw_fetchdata(data = list(mi=c("Congeria kusceri",
"Congeria leucophaeata",
"Dreissena polymorpha",
"Dreissena rostriformis bugensis"),
pb= c("Gongrosira debaryana",
"Gongrosira fluminensis",
"Hydrodictyon reticulatum",
"Sphaerobotrys fluviatilis",
"Stigeoclonium farctum",
"Stigeoclonium tenue",
"Tetraspora gelatinosa",
"Thorea hispida")),
organismgroup = c('mi','pb'),
ecoparams = list(mi = c('stream zonation preference'),
pb = c('substrate preference')))
devtools::load_all(".")
mipbdata <- fw_fetchdata(data = list(mi=c("Congeria kusceri",
"Congeria leucophaeata",
"Dreissena polymorpha",
"Dreissena rostriformis bugensis"),
pb= c("Gongrosira debaryana",
"Gongrosira fluminensis",
"Hydrodictyon reticulatum",
"Sphaerobotrys fluviatilis",
"Stigeoclonium farctum",
"Stigeoclonium tenue",
"Tetraspora gelatinosa",
"Thorea hispida")),
organismgroup = c('mi','pb'),
ecoparams = list(mi = c('stream zonation preference'),
pb = c('substrate preference')))
devtools::load_all(".")
devtools::load_all(".")
mipbdata <- fw_fetchdata(data = list(mi=c("Congeria kusceri",
"Congeria leucophaeata",
"Dreissena polymorpha",
"Dreissena rostriformis bugensis"),
pb= c("Gongrosira debaryana",
"Gongrosira fluminensis",
"Hydrodictyon reticulatum",
"Sphaerobotrys fluviatilis",
"Stigeoclonium farctum",
"Stigeoclonium tenue",
"Tetraspora gelatinosa",
"Thorea hispida")),
organismgroup = c('mi','pb'),
ecoparams = list(mi = c('stream zonation preference'),
pb = c('substrate preference')))
head(mipbdata)
yy <- fw_fetchdata(data = list(mi=c('Aeshna affinis', 'Aeshna crenata',
'Aeshna mixta', 'Aeshna subarctica', 'Aeshna viridis'),
fi=c("Abramsi brama"),
pp= c("Anathece clathrata",
"Anathece minutissima",
"Anthophysa vegetans",
"Apocalathium aciculiferum",
"Adlafia minuscula var. muralis"),
pb =c("Gongrosira debaryana",
"Gongrosira fluminensis",
"Hydrodictyon reticulatum",
"Sphaerobotrys fluviatilis",
"Stigeoclonium farctum",
"Stigeoclonium tenue",
"Tetraspora gelatinosa",
"Thorea hispida"),
mp = c("Amblystegium fluviatile",
"Amblystegium humile",
"Amblystegium riparium",
"Amblystegium serpens",
"Amblystegium tenax",
"Amblystegium varium")),
organismgroup = c('mi','fi', 'pp', 'mp', 'pb'),
ecoparams = list(mi=c('life duration Odonata', 'stream zonation preferecne'),
fi= c('cathment region', 'migration', 'threat austria',
'climate change affected'),
pp = c('stenoecy factor', 'aquaticity','life form'),
pb = c('substrate preference'),
mp = c('zone - systema')),
taxalevel = 'species')
devtools::load_all(".")
fw_visualize(yy, organism_group = 'mi', na.rm = TRUE)
fw_visualize(multspp_df)
yy <- fw_fetchdata(data = list(mi=c('Aeshna affinis', 'Aeshna crenata',
'Aeshna mixta', 'Aeshna subarctica', 'Aeshna viridis'),
fi=c("Abramsi brama"),
pp= c("Anathece clathrata",
"Anathece minutissima",
"Anthophysa vegetans",
"Apocalathium aciculiferum",
"Adlafia minuscula var. muralis"),
pb =c("Gongrosira debaryana",
"Gongrosira fluminensis",
"Hydrodictyon reticulatum",
"Sphaerobotrys fluviatilis",
"Stigeoclonium farctum",
"Stigeoclonium tenue",
"Tetraspora gelatinosa",
"Thorea hispida"),
mp = c("Amblystegium fluviatile",
"Amblystegium humile",
"Amblystegium riparium",
"Amblystegium serpens",
"Amblystegium tenax",
"Amblystegium varium")),
organismgroup = c('mi','fi', 'pp', 'mp', 'pb'),
ecoparams = list(mi=c('life duration Odonata', 'stream zonation preferecne'),
fi= c('cathment region', 'migration', 'threat austria',
'climate change affected'),
pp = c('stenoecy factor', 'aquaticity','life form'),
pb = c('substrate preference'),
mp = c('zone - systema')),
taxalevel = 'species')
yy <- fw_fetchdata(data = list(mi=c('Aeshna affinis', 'Aeshna crenata',
'Aeshna mixta', 'Aeshna subarctica', 'Aeshna viridis'),
fi=c("Abramsi brama"),
pp= c("Anathece clathrata",
"Anathece minutissima",
"Anthophysa vegetans",
"Apocalathium aciculiferum",
"Adlafia minuscula var. muralis"),
pb =c("Gongrosira debaryana",
"Gongrosira fluminensis",
"Hydrodictyon reticulatum",
"Sphaerobotrys fluviatilis",
"Stigeoclonium farctum",
"Stigeoclonium tenue",
"Tetraspora gelatinosa",
"Thorea hispida"),
mp = c("Amblystegium fluviatile",
"Amblystegium humile",
"Amblystegium riparium",
"Amblystegium serpens",
"Amblystegium tenax",
"Amblystegium varium")),
organismgroup = c('mi','fi', 'pp', 'mp', 'pb'),
ecoparams = list(mi=c('life duration Odonata', 'stream zonation preferecne'),
fi= c('cathment region', 'migration', 'threat austria',
'climate change affected'),
pp = c('stenoecy factor', 'aquaticity','life form'),
pb = c('substrate preference'),
mp = c('zone - systema')),
taxalevel = 'species')
fw_visualize(yy, organism_group = 'mi', na.rm = TRUE)
View(yy)
key_l <- Sys.getenv()
key_l
View(yy)
colnames(yy)
View(yy)
devtools::load_all(".")
mipbdata <- fw_fetchdata(data = list(mi=c("Congeria kusceri",
"Congeria leucophaeata",
"Dreissena polymorpha",
"Dreissena rostriformis bugensis"),
pb= c("Gongrosira debaryana",
"Gongrosira fluminensis",
"Hydrodictyon reticulatum",
"Sphaerobotrys fluviatilis",
"Stigeoclonium farctum",
"Stigeoclonium tenue",
"Tetraspora gelatinosa",
"Thorea hispida")),
organismgroup = c('mi','pb'),
ecoparams = list(mi = c('stream zonation preference'),
pb = c('substrate preference')))
mipbdata
devtools::load_all(".")
mipbdata <- fw_fetchdata(data = list(mi=c("Congeria kusceri",
"Congeria leucophaeata",
"Dreissena polymorpha",
"Dreissena rostriformis bugensis"),
pb= c("Gongrosira debaryana",
"Gongrosira fluminensis",
"Hydrodictyon reticulatum",
"Sphaerobotrys fluviatilis",
"Stigeoclonium farctum",
"Stigeoclonium tenue",
"Tetraspora gelatinosa",
"Thorea hispida")),
organismgroup = c('mi','pb'),
ecoparams = list(mi = c('stream zonation preference'),
pb = c('substrate preference')))
devtools::load_all(".")
devtools::load_all(".")
mipbdata <- fw_fetchdata(data = list(mi=c("Congeria kusceri",
"Congeria leucophaeata",
"Dreissena polymorpha",
"Dreissena rostriformis bugensis"),
pb= c("Gongrosira debaryana",
"Gongrosira fluminensis",
"Hydrodictyon reticulatum",
"Sphaerobotrys fluviatilis",
"Stigeoclonium farctum",
"Stigeoclonium tenue",
"Tetraspora gelatinosa",
"Thorea hispida")),
organismgroup = c('mi','pb'),
ecoparams = list(mi = c('stream zonation preference'),
pb = c('substrate preference')))
devtools::load_all(".")
mipbdata <- fw_fetchdata(data = list(mi=c("Congeria kusceri",
"Congeria leucophaeata",
"Dreissena polymorpha",
"Dreissena rostriformis bugensis"),
pb= c("Gongrosira debaryana",
"Gongrosira fluminensis",
"Hydrodictyon reticulatum",
"Sphaerobotrys fluviatilis",
"Stigeoclonium farctum",
"Stigeoclonium tenue",
"Tetraspora gelatinosa",
"Thorea hispida")),
organismgroup = c('mi','pb'),
ecoparams = list(mi = c('stream zonation preference'),
pb = c('substrate preference')))
devtools::load_all(".")
mipbdata
head(mipbdata)
ss <- fw_keyload()
devtools::load_all(".")
ss <- fw_keyload()
fidata <- fw_searchdata(organismgroup =  c('mi','fi', 'pp', 'mp', 'pb'),
ecoparams =  list(mi=c('life duration Odonata', 'stream zonation preferecne'),
fi= c('cathment region', 'migration', 'threat austria',
'rheophily habitat', 'habitat fiBS', 'temperature tolerance'),
pp = c('stenoecy factor','life form'),
mp = c('zone - systema'),
pb = c("life form", 'substrate preference')),
taxa_searched = list(mi =c('Aeshna affinis', 'Aeshna crenata',
'Aeshna mixta', 'Aeshna subarctica', 'Aeshna viridis'),
pb=c('Fallacia insociabilis', 'Encyonema aequilongum')),
apikey =   ss,
taxalevel = 'species',
secure = TRUE,
seed = 1212,
warn = TRUE)
fidatapb <- fw_searchdata(organismgroup =  'pb',
ecoparams =  c('substrate preference'),
taxa_searched  = c('Cyanophyceae', 'Chlorophyceae'),
apikey =   ss,
taxalevel = 'taxagroup',
secure = TRUE,
seed = 1212,
warn = TRUE)
yy <- fw_fetchdata(data = list(mi=c('Aeshna affinis', 'Aeshna crenata',
'Aeshna mixta', 'Aeshna subarctica', 'Aeshna viridis'),
fi=c("Abramsi brama"),
pp= c("Anathece clathrata",
"Anathece minutissima",
"Anthophysa vegetans",
"Apocalathium aciculiferum",
"Adlafia minuscula var. muralis"),
pb =c("Gongrosira debaryana",
"Gongrosira fluminensis",
"Hydrodictyon reticulatum",
"Sphaerobotrys fluviatilis",
"Stigeoclonium farctum",
"Stigeoclonium tenue",
"Tetraspora gelatinosa",
"Thorea hispida"),
mp = c("Amblystegium fluviatile",
"Amblystegium humile",
"Amblystegium riparium",
"Amblystegium serpens",
"Amblystegium tenax",
"Amblystegium varium")),
organismgroup = c('mi','fi', 'pp', 'mp', 'pb'),
ecoparams = list(mi=c('life duration Odonata', 'stream zonation preferecne'),
fi= c('cathment region', 'migration', 'rheophily habitat',
'climate change affected'),
pp = c('stenoecy factor', 'aquaticity','life form'),
pb = c('substrate preference'),
mp = c('zone - systema')),
inform = TRUE,
taxalevel = 'species', summary = TRUE)
yy <- fw_fetchdata(data = list(mi=c('Aeshna affinis', 'Aeshna crenata',
'Aeshna mixta', 'Aeshna subarctica', 'Aeshna viridis'),
fi=c("Abramsi brama"),
pp= c("Anathece clathrata",
"Anathece minutissima",
"Anthophysa vegetans",
"Apocalathium aciculiferum",
"Adlafia minuscula var. muralis"),
pb =c("Gongrosira debaryana",
"Gongrosira fluminensis",
"Hydrodictyon reticulatum",
"Sphaerobotrys fluviatilis",
"Stigeoclonium farctum",
"Stigeoclonium tenue",
"Tetraspora gelatinosa",
"Thorea hispida"),
mp = c("Amblystegium fluviatile",
"Amblystegium humile",
"Amblystegium riparium",
"Amblystegium serpens",
"Amblystegium tenax",
"Amblystegium varium")),
organismgroup = c('mi','fi', 'pp', 'mp', 'pb'),
ecoparams = list(mi=c('life duration Odonata', 'stream zonation preferecne'),
fi= c('cathment region', 'migration', 'rheophily habitat',
'climate change affected'),
pp = c('stenoecy factor', 'aquaticity','life form'),
pb = c('substrate preference'),
mp = c('zone - systema')),
inform = TRUE,
taxalevel = 'species', details = TRUE)
devtools::load_all(".")
yy <- fw_fetchdata(data = list(mi=c('Aeshna affinis', 'Aeshna crenata',
'Aeshna mixta', 'Aeshna subarctica', 'Aeshna viridis'),
fi=c("Abramsi brama"),
pp= c("Anathece clathrata",
"Anathece minutissima",
"Anthophysa vegetans",
"Apocalathium aciculiferum",
"Adlafia minuscula var. muralis"),
pb =c("Gongrosira debaryana",
"Gongrosira fluminensis",
"Hydrodictyon reticulatum",
"Sphaerobotrys fluviatilis",
"Stigeoclonium farctum",
"Stigeoclonium tenue",
"Tetraspora gelatinosa",
"Thorea hispida"),
mp = c("Amblystegium fluviatile",
"Amblystegium humile",
"Amblystegium riparium",
"Amblystegium serpens",
"Amblystegium tenax",
"Amblystegium varium")),
organismgroup = c('mi','fi', 'pp', 'mp', 'pb'),
ecoparams = list(mi=c('life duration Odonata', 'stream zonation preferecne'),
fi= c('cathment region', 'migration', 'rheophily habitat',
'climate change affected'),
pp = c('stenoecy factor', 'aquaticity','life form'),
pb = c('substrate preference'),
mp = c('zone - systema')),
inform = TRUE,
taxalevel = 'species', details = TRUE)
devtools::load_all(".")
yy <- fw_fetchdata(data = list(mi=c('Aeshna affinis', 'Aeshna crenata',
'Aeshna mixta', 'Aeshna subarctica', 'Aeshna viridis'),
fi=c("Abramsi brama"),
pp= c("Anathece clathrata",
"Anathece minutissima",
"Anthophysa vegetans",
"Apocalathium aciculiferum",
"Adlafia minuscula var. muralis"),
pb =c("Gongrosira debaryana",
"Gongrosira fluminensis",
"Hydrodictyon reticulatum",
"Sphaerobotrys fluviatilis",
"Stigeoclonium farctum",
"Stigeoclonium tenue",
"Tetraspora gelatinosa",
"Thorea hispida"),
mp = c("Amblystegium fluviatile",
"Amblystegium humile",
"Amblystegium riparium",
"Amblystegium serpens",
"Amblystegium tenax",
"Amblystegium varium")),
organismgroup = c('mi','fi', 'pp', 'mp', 'pb'),
ecoparams = list(mi=c('life duration Odonata', 'stream zonation preferecne'),
fi= c('cathment region', 'migration', 'rheophily habitat',
'climate change affected'),
pp = c('stenoecy factor', 'aquaticity','life form'),
pb = c('substrate preference'),
mp = c('zone - systema')),
inform = TRUE,
taxalevel = 'species', details = TRUE)
devtools::load_all(".")
yy <- fw_fetchdata(data = list(mi=c('Aeshna affinis', 'Aeshna crenata',
'Aeshna mixta', 'Aeshna subarctica', 'Aeshna viridis'),
fi=c("Abramsi brama"),
pp= c("Anathece clathrata",
"Anathece minutissima",
"Anthophysa vegetans",
"Apocalathium aciculiferum",
"Adlafia minuscula var. muralis"),
pb =c("Gongrosira debaryana",
"Gongrosira fluminensis",
"Hydrodictyon reticulatum",
"Sphaerobotrys fluviatilis",
"Stigeoclonium farctum",
"Stigeoclonium tenue",
"Tetraspora gelatinosa",
"Thorea hispida"),
mp = c("Amblystegium fluviatile",
"Amblystegium humile",
"Amblystegium riparium",
"Amblystegium serpens",
"Amblystegium tenax",
"Amblystegium varium")),
organismgroup = c('mi','fi', 'pp', 'mp', 'pb'),
ecoparams = list(mi=c('life duration Odonata', 'stream zonation preferecne'),
fi= c('cathment region', 'migration', 'rheophily habitat',
'climate change affected'),
pp = c('stenoecy factor', 'aquaticity','life form'),
pb = c('substrate preference'),
mp = c('zone - systema')),
inform = TRUE,
taxalevel = 'species', details = TRUE)
fdata <- speciesdata
yy <- fw_fetchdata(data= fdata,
organismgroup = 'fi',
ecoparams = c("catchment region"),
taxalevel = 'species',
cachefolder = 'cache',
details = TRUE)
View(fdata)
yy <- fw_fetchdata(data= fdata,
organismgroup = 'fi',
ecoparams = c("catchment region"),
taxonomic_column = 'scientificName',
taxalevel = 'species',
cachefolder = 'cache',
details = TRUE)
devtools::load_all(".")
yy <- fw_fetchdata(data= fdata,
organismgroup = 'fi',
ecoparams = c("catchment region"),
taxonomic_column = 'scientificName',
taxalevel = 'species',
cachefolder = 'cache',
details = TRUE)
datalists <- fw_searchdata(organismgroup = 'fi',
ecoparams = c("catchment region"))
dbgui <- fw_dbguide()
paramlist1 <- fw_paramlist()
paramlist1 <- fw_paramlist()
